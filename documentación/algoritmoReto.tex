\documentclass[a4paper,10pt]{scrartcl}
\usepackage[utf8]{inputenc}
\usepackage{verbatim}
\usepackage{algorithm}
\usepackage{algorithmic}
\input{spanishAlgorithmic.tex}  % Variables de entorno en español

\newcommand{\objeto}[4]{\noindent\underline{\textbf{TDA #1}}
            \begin{center}\begin{tabular}{|p{7cm}|}
                 \hline
                 \multicolumn{1}{|c|}{\texttt{#1}}\\
                 \hline
                  \\#2\\\\
                 \hline
                 \\#3\\\\
                 \hline
            \end{tabular}\end{center}
            \begin{itemize}
            #4
            \end{itemize}
               }
\def\C++#1{\texttt{#1}}
\def\T_{\texttt{T}}
%opening
\title{Reto II: Problema de las cifras}
\author{Francisco David Charte Luque \and 
        Ignacio Cordón Castillo \and
        Mario Román García}
\date{}
\begin{document}
\maketitle

\objeto{Cuenta}{}{
        \C++{+ primero}\\
        \C++{+ segundo}\\
        \C++{+ operador}\\
        \C++{+ resultado}
    }{
        \item \C++{primero} Número entero, representando el primer operando.
        \item \C++{segundo} Número entero, que representa el segundo operando.
        \item \C++{operador} Carácter que corresponde a la operación realizada sobre los números.
        \item \C++{resultado} Número entero, resultado de realizar la operación sobre \C++{primero} y \C++{segundo}.
    }


    \objeto{DobleCola}{\C++{-- double\_queue}}
                {\C++{+ push\_back()}\\
                 \C++{+ pop\_back()}\\
                 \C++{+ push\_front()}\\
                 \C++{+ pop\_front()}\\
                 \C++{+ front()}\\
                 \C++{+ back()}}{
 \item \C++{double\_queue} Vector de objetos \T_ que es usado por
  el TDA \C++{DobleCola} como una doble cola enlazada (en la que
  se puede suprimir e introducir elementos por ambos lados)
 \item \C++{push\_back()} Introduce un elemento \T_ en la cola de
  \C++{double\_queue}
 \item \C++{pop\_back()} Saca un elemento \T_ de la cola de 
  \C++{double\_queue}
 \item \C++{push\_back()} Introduce un elemento \T_ en el frente
  de \C++{push\_back()}
 \item \C++{pop\_back()} Saca un elemento \T_ del frente de 
  \C++{push\_back()}}  
  
 \objeto{ProblemaCifras}{\C++{-- numerosIniciales}\\
                        \C++{-- DobleCola numeros}\\
                        \C++{-- DobleCola operaciones}\\
                        \C++{-- meta}\\
                        \C++{-- operacionesPosibles}\\
                        }
                        {\C++{+ opera()}\\
                        \C++{+ resuelve()}}{
  \item \C++{numerosIniciales} Conjunto que almacena los enteros
   a partir de los que se pretende obtener meta
  \item \C++{numeros} Instancia de \C++{DobleCola} en la que se
   almacenan los números con los que se opera en cada llamada
   a \C++{resuelve()}
  \item \C++{operaciones} Instancia de \C++{DobleCola} en la que
   se almacenarán las operaciones realizadas hasta llegar a meta,
   o a una aproximación a meta
  \item \C++{meta} Entero positivo de 3 cifras a aproximar, y en
   caso de ser posible, hallar de forma exacta mediante operaciones sobre
  \item \C++{operacionesPosibles} Conjunto que contiene todas las
   operaciones posibles aplicables}       
   
   
   \begin{algorithm}[H]
   \begin{algorithmic}[1]
   \REQUIRE \ \\
	    \C++{meta}, número a aproximar\\
	    \C++{numeros}, enteros aleatorios iniciales del conjunto\\
            \C++{size}, número de posiciones de la lista \C++{numeros}    
            
   \ENSURE \TRUE si logramos alcanzar exactamente \C++{meta}
   
   \IF{\C++{size} es menor a 2}
   \RETURN \FALSE
   \ENDIF
   
   \FOR{\C++{i} desde la primera posición de la lista, hasta la anterior a la 
        última (\C++{size})}
    \STATE {Tomamos \C++{a} como el número ocupando la posición $i$-ésima 
    de la lista}
   \IF{$a\neq 0$}
    \STATE{sobreescribimos la posición que ocupaba \C++{a}
   con lo que haya en la última posición de la lista}
   \ELSE
    \STATE{Avanzamos a la iteración siguiente}
   \ENDIF
   \FOR{\C++{j} desde \C++{i} hasta \C++{size-1}}
    \STATE {Tomamos \C++{b} como el número que ocupa la posición $j$-ésima
    de la lista}
    \IF{$b\neq 0$}
      \STATE{sobreescribimos la posición que ocupaba \C++{b}
    con lo que haya en la penúltima posición de la lista}
    \ELSE
      \STATE{Avanzamos a la iteración siguiente}
    \ENDIF
    
    \FOR{operación \C++{OP} en ${/,-,+,*}$}
    \STATE{Tomamos \C++{c} como el mayor de \C++{a} y \C++{b},
    y \C++{d} como el menor de ambos}
    \ENDFOR
    
   \ENDFOR
    
   \ENDFOR
   \end{algorithmic}
   \caption{ALGORITMO DE CÁLCULO DEL NÚMERO DE 3 CIFRAS}
   \end{algorithm}
   
   \newpage
   % Recreo el algoritmo intentando usar el más alto nivel posible.
   
   \begin{algorithm}[H]
   \begin{algorithmic}[1]
   \REQUIRE \ \\
	    \C++{meta}, número a aproximar\\
	    \C++{números}, enteros aleatorios iniciales del conjunto\\
            \C++{size}, número de posiciones de la lista \C++{números}    
            
   \ENSURE \ \\
	   \TRUE si logramos alcanzar exactamente \C++{meta} \\
	   \FALSE {si sólo logramos una aproximación \C++{aprox} a \C++{meta}}
   
   % Falta comentar el caso base de la inducción
   \STATE { Inicializa \C++{mejor\_aprox} a -1. } 
   \FOR{cada pareja ordenada \C++{(a,b)} en \C++{números}}
   \STATE{ 
      \FOR{cada operación \C++{op} en \C++{[+,*,-,/]}} 
	  \IF { \C++{a (op) b} es posible }
	    \STATE { Computa la \C++{cuenta} }
	    \STATE { Almacena la cuenta en la pila de cuentas }
	    \STATE { Retira \C++{a,b} del conjunto de números }
	    \STATE { Introduce \C++{a (op) b} en el conjunto de números }
	    \IF { $\C++{meta - a (op) b} \leq \C++{meta - mejor\_aprox}$  }
	      \STATE {$\C++{mejor\_aprox := meta}$}
	      \IF {$\C++{mejor\_aprox == meta}$}
		\RETURN \TRUE
	      \ENDIF
	    \ENDIF
	    \IF { llamamos recursivamente al algoritmo sobre \C++{números} y devuelve \TRUE }
	      \RETURN \TRUE
	    \ENDIF
	    \STATE { Retira la \C++{cuenta} de la pila de cuentas }
	    \STATE { Retira \C++{a (op) b} del conjunto de números }
	    \STATE { Reintroduce \C++{a,b} en el conjunto de números }
	  \ENDIF
      \ENDFOR
    }
   \ENDFOR
   \end{algorithmic}
   \caption{ALGORITMO DE CÁLCULO DEL NÚMERO DE 3 CIFRAS}
   \end{algorithm}
   % Falta comentar cómo después se usaría la cola de operaciones para imprimir
   % Falta comentar cómo las operaciones para la mejor operación se copian a cada paso
\end{document}